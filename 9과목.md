## ✒ 9-1. 소프트웨어 개발 보안 설계

### SW 개발 보안

- **SW 개발 보안 생명주기 “요설구테유”**
    1. **요구사항 명세**
    2. **설계**
    3. **구현**
    4. **테스트**
    5. **유지보수**
<br />

- **SW 개발 보안 3대 요소 “기무가”**
    1. **기밀성**
        
        : 인가되지 않은 개인 혹은 시스템 접근에 따른 정보 공개 및 노출 차단
        
    2. **무결성**
        
        : 정당한 방법이 아니라면 데이터 변경 불가하며, 데이터의 정확성 및 완전성과 고의/악의로 변경되거나 훼손 또는 파괴되지 않음을 보장
        
    3. **가용성**
        
        : 권한을 가진 사용자나 어플리케이션이 원하는 서비스를 지속해서 사용할 수 있도록 보장
<br />
        
- **SW 개발 보안 용어 “자위취위”**
    
    
    | 용어 | 설명 |
    | :---: | --- |
    | 자산 | 조직의 데이터 또는 조직의 소유자가 가치를 부여한 대상 |
    | 위협 | 조직이나 기업의 자산에 악영향을 끼칠 수 있는 사건이나 행위 |
    | 취약점 | 위협이 발생하기 위한 사전 조건, 시스템의 정보 보증을 낮추는 데 사용되는 약점 |
    | 위험 | 위협이 취약점을 이용하여 조직의 자산 손실 피해를 가져올 가능성 |
<br />    

### DoS 공격

: 시스템을 악의적으로 공격해서 해당 시스템의 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
<br />

- **Dos 공격의 종류**
    1. **SYN 플러딩 (SYN Flooding)**
        - 서버의 동시 가용 사용자 수를 SYN 패킷만 보내 점유하여 다른 사용자가 서버 사용 불가능하게 하는 공격
        - TCP 프로토콜의 구조적인 문제를 이용한 공격
        - 공격자는 ACK를 발송하지 않고 계속 새로운 연결 요청을 하게 되어 서버는 자원 할당을 해지하지 않고 자원만 소비하여 고갈됨
    2. **UDP 플러딩 (UDP Flooding)**
        - 대량의 UDP 패킷을 만들어 임의의 포트 번호로 전송하여 응답 메시지(ICMP Destination Unreachable)를 생성하게 하여 지속해서 자원을 고갈시키는 공격
        - ICMP 패킷 변조되어 공격자에게 전달되지 않아 대기
    3. **스머프 (Smurf) / 스머핑 (Smurfing)**
        - 출발지 주소를 공격 대상의 IP로 설정하여 네트워크 전체에게 ICMP Echo 패킷을 직접 브로드캐스팅하여 마비시키는 공격
        - 바운스 사이트라고 불리는 제 3의 사이트를 통해 공격
    4. **죽음의 핑 (PoD; Ping of Death)**
        - ICMP 패킷(Ping)을 아주 크게 만들어 전송하여 정상적인 서비스를 못하게 하는 공격
        - 다수의 IP 단편화 발생
        - 수신 측에서는 단편화된 패킷을 처리(재조합)하는 과정에서 많은 부하 발생
        - 재조합 버퍼의 오버플로우 발생
    5. **랜드 어택 (Land Attack)**
        - 출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보내 수신자가 자기 자신에게 응답을 보내개 하여 시스템의 가용성을 침해하는 공격
    6. **티어 드롭 (Tear Drop)**
        - IP 패킷의 재조합 과정에서 잘못된 Fragment Offset 정보로 인해 수신 시스템이 문제를 발생하도록 만드는 공격
        - 공격자는 IP Fragment Offset 값을 서로 중첩되도록 조작하여 전송하고, 이를 수신한 시스템이 재조합하는 과정에서 오류 발생
    7. **봉크 (Bonk) / 보잉크 (Boink)**
        - 프로토콜의 오류 제어를 이용한 공격
        - 시스템의 패킷 재전송과 재조립이 과부하를 유발
        - **봉크** : 같은 시퀀스 번호를 계속 보냄
        - **보잉크** : 일정한 간격으로 시퀀스 번호에 빈 공간 생성
<br />

### DDos 공격

: **여러 대의 공격자**를 분산 배치하여 동시에 동작하게 함으로써 특정 사이트를 공격하는 기법
<br />

- **DDos 공격 구성요소 “하마드(HAMAD)”**
    
    
    | 구성요소 | 설명 |
    | :---: | --- |
    | 공격자 (Attacker) | 공격을 주도하는 해커의 컴퓨터 |
    | 마스터 (Master) | - 공격자에게서 직접 명령을 받는 시스템 <br/> - 여러 대의 에이전트를 관리 |
    | 핸들러 (Handler) | 마스터 시스템의 역할 수행하는 프로그램 |
    | 에이전트 (Agent) | 직접 공격을 가하는 시스템 |
    | 데몬 프로그램 (Daemon) | 에이전트 시스템의 역할을 수행하는 프로그램 |
<br />

- **DDos 공격 도구**
    1. **Trinoo**
        - 많은 소스로부터 통합된 UDP flood 서비스 거부 공격을 유발하는 데 사용되는 도구
        - 공격은 몇 개의 서버(혹은 마스터들)와 많은 클라이언트들(데몬들)로 이루어짐
    2. **Tribe Flood Network**
        - 많은 소스에서 하나 혹은 여러 목표 시스템에 대해 서비스 거부 공격을 수행할 수 있는 도구
        - 공격은 공격자가 클라이언트(혹은 마스터) 프로그램을 통해 공격 명령을 일련의 TFN 서버들(데몬들)에게 보냄으로써 이루어짐
        - UDP flood 뿐만 아니라 TCP SYN flood, ICMP echo, Smurf 공격 가능
    3. **Stacheldraht**
        - 분산 서비스 거부 에이전트 역할하는 Linux 및 Solaris 시스템용 멀웨어 도구
<br />

### **Dos 공격 vs DDos 공격**

- **Dos 공격**
    - 1대의 공격자 컴퓨터에서 타깃 시스템에 악성 패킷을 보내는 방식
    - 직접 공격
- **DDos 공격**
    - Dos 공격에서 진화
    - 완벽한 공격을 위해 공격자가 여러 대의 컴퓨터를 감염시키고, 분산된 좀비 PC들을 통해 타깃 시스템을 집중적으로 공격해서 서비스 마비
    - 공격을 하도록 지시
<br />

### DRDoS 공격

: 출발지 IP를 공격대상 IP로 위조하여 다수의 **반사 서버**로 요청 정보를 전송, 공격 대상자는 반사 서버로부터 다량의 응답을 받아 서비스 거부(DoS)가 되는 공격
<br />

### DRDoS 공격 vs DDos 공격

- DRDoS 공격이 공격 근원지 파악이 더 어려움
- DRDoS 공격이 공격 트래픽 생성 효율이 더 높음
<br />

### 어플리케이션 공격 기법

: DDoS 서비스(어플리케이션) 마비 공격
<br />

1. **HTTP GET 플러딩**
    - 과도한 Get 메시지를 이용해 웹 서버의 과부하 유발하는 공격
    - Cache Control Attack
2. **Slowloris (Slow HTTP Header DoS)**
    - HTTP GET 메서드를 사용하여 헤더의 최종 끝을 알리는 개행 문자열(”\r\n\r\n”)을 전송하지 않고 “\r\n”만 전송하여 대상 웹 서버와 연결상태를 장시간 지속시키고 연결 자원을 모두 소진시키는 공격
3. **RUDY (Slow HTTP POST DoS)**
    - 요청 헤더의 Content-Length를 크게 설정하여 메시지 바디 부분을 매우 소량으로 보내 계속 연결 상태를 유지시키는 공격
4. **Slow HTTP Read DoS**
    - TCP 윈도 크기와 데이터 처리율을 감소시킨 상태에서 다수 HTTP 패킷을 지속적으로 전송하여 대상 웹 서버의 연결 상태가 장시간 지속, 연결 자원을 소진시키는 공격
5. **Hulk DoS**
    - 공격자가 공격 대상 웹 사이트 URL를 지속적으로 변경하며 다량으로 GET 요청 발생시키는 공격
6. **Hash DoS**
    - 많은 수의 파라미터를 POST 방식으로 웹 서버에게 전달하여 다수의 해시 충돌을 발생시켜 자원을 소모시키는 공격
<br />

### 네트워크 공격

1. **스니핑 (Sniffing)**
    - 공격 대상의 데이터만 몰래 들여다보는 수동적 공격
2. **네트워크 스캐너 (Scanner), 스니퍼 (Sniffer)**
    - 네트워크 하드웨어 및 소프트웨어 구성의 취약점 파악을 위해 공격자가 취약점을 탐색하는 공격 도구
3. **패스워드 크래킹 (Password Cracking)**
    - **사전 크래킹**
        
        : ID와 패스워드가 될 가능성이 있는 단어를 파일로 만들어 놓고 이 파일의 단어를 대입하여 크랙하는 공격
        
    - **무차별 크래킹**
        
        : 무작위로 패스워드 자리에 대입하여 패스워드 알아내는 공격
        
    - **패스워드 하이브리드 공격**
        
        : 사전 공격 + 무차별 대입 공격
        
    - **레인보우 테이블 공격**
        
        : 패스워드 별로 해시 값을 미리 생성하여 테이블에 모아놓고, 크래킹 하고자 하는 해시 값을 테이블에서 검색하여 역으로 패스워드를 찾는 공격
        
4. **IP 스푸핑 (IP Spoofing)**
    - 침입자가 인증된 컴퓨팅 시스템인 것처럼 속여서 본인의 패킷 헤더를 인증된 호스트의 IP 어드레스로 위조하여 타깃에 전송하는 공격
5. **ARP 스푸핑 (ARP Spoofing)**
    - 공격자가 특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Reply를 만들어 희생자에게 지속적으로 전송
6. **ICMP Redirect 공격**
    - 3계층에서 스니핑 시스템을 네트워크에 존재하는 또 다른 라우터라고 알림으로써 패킷의 흐름을 바꾸는 공격
7. **트로이 목마 (Trojan Horses)**
    - 악성 루틴이 숨어 있는 프로그램
    - 겉보기에는 정상적인 프로그램이지만 실행하면 악성 코드를 실행하는 프로그램
<br />

### 버퍼 오버플로우 공격

: 메모리에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력하여 프로세스의 흐름을 변경시켜 악성 코드를 실행시키는 공격
<br />

- **버퍼 오버플로우 공격 유형**
    1. **스택 버퍼 오버플로우 공격**
        
        : Local Value나 함수의 Return Address가 저장되는 스택 영역에서 발생
        
    2. **힙 버퍼 오버플로우 공격**
        
        : 힙 영역에 할당된 버퍼 크기를 초과하는 데이터를 입력하여
<br />

- **버퍼 오버플로우 공격 대응 방안**
    1. **스택 가드 활용**
        
        : ‘카나리’라고 불리는 무결성 체크용 값을 복귀 주소와 변수 사이에 삽입
        
    2. **스택쉴드 활용**
        
        : 복귀 주소를 Global RET라는 특수 스택에 저장
        
    3. **ASLR (Address Space Layout Randomization) 활용**
        
        : 주소 공간 배치를 난수화
<br />

### 백도어 (Backdoor)

: 정상적인 인증 절차를 우회하는 기법
<br />

### 주요 시스템 보안 공격기법

1. **포맷 스트링 공격 (Format String Attack)**
    
    : 입출력 함수의 포맷 스트링을 그대로 사용하는 경우 발생하는 취약점 공격
    
2. **레이스 컨디션 공격 (Race Condition Attack)**
    
    : 둘 이상의 프로세스나 스레드가 공유자원을 동시에 접근할 때 접근 순서에 따라 비정상적인 결과가 발생하는 조건/상황
    
3. **키로거 공격 (Key Logger Attack)**
    
    : 사용자의 키보드 움직임을 탐지해서 개인의 중요한 정보를 몰래 빼가는 해킹 공격
    
4. **루트킷 (Rootkit)**
    
    : 주로 불법적인 해킹에 사용되는 기능을 제공하는 프로그램 모음
<br />

### 보안 관련 용어

- **스피어피싱 (Spear Phishing)**
    
    : 발송 메일의 본문 링크나 첨부된 파일을 클릭하도록 유도하여 사용자의 개인정보 탈취하는 공격
    
- **스미싱 (Smishing)**
    
    : 문자메시지를 통해 개인 비밀정보를 요구하거나 휴대폰 소액 결제를 유도하는 피싱 공격
    
- **큐싱 (Qshing)**
    
    : QR 코드를 통해 악성 앱을 내려받도록 유도하여 금융 정보 등을 빼내는 피싱 공격
    
- **봇넷 (Botnet)**
    
    : 악성 프로그램에 감염되어 컴퓨터들이 네트워크로 연결된 형태
    
- **APT 공격 (Advanced Persistent Threat)**
    
    : 특정 타깃을 목표로 하여 다양한 수단으로 통한 지속적으로 지능적인 맞춤형 공격
    
- **공급망 공격 (Supply Chain Attack)**
    
    : 소프트웨어 개발사의 네트워크에 침투하여 악의적인 코드를 삽입하거나 배포 서버에 접근하여 악의적인 파일로 변경하여 사용자가 소프트웨어 설치 또는 업데이트 시 자동으로 감염되도록 하는 공격
    
- **제로데이 공격 (Zero Day Attack)**
    
    : 보안 취약점이 발견되어 널리 공표되기 전에 해당 취약점을 악용하여 이루어지는 보안 공격
    
- **웜 (Worm)**
    
    : 스스로를 복제하여 네트워크 등의 연결을 통해 전파하는 악성 소프트웨어 컴퓨터 프로그램
    
- **악성 봇 (Malicious Bot)**
    
    : 스스로 실행되지 못하고, 해커의 명령에 의해 원격에서 제어/실행 가능한 프로그램 혹은 코드
    
- **사이버 킬체인 (Cyber Kill Chain)**
    
    : 록히드 마틴의 공격형 방위 시스템, 지능적/지속적 사이버 공격에 대해 7단계 프로세스별 공격 분석 및 대응을 체계화한 APT 공격 방어 분석 모델
    
- **랜섬웨어 (Ransomware)**
    
    : 감염된 시스템의 파일들을 암호화하여 복호화할 수 없도록 하고, 파일을 인질처럼 잡고 몸값을 요구하는 악성 소프트웨어
    
- **이블 트윈(Evil Twin) 공격**
    
    : 합법적인 Wifi 제공자처럼 행세하며 핫스팟에 연결한 무선 사용자들의 정보를 탈취하는 무선 네트워크 공격
    
- **난독화 (Obfuscation)**
    
    : 코드의 가독성을 낮춰 역공학에 대한 대비를 하기 위해 프로그램 코드의 일부 또는 전체를 변경
    
- **Tripwire**
    
    : 크래커가 침입하여 시스템에 백도어를 만들어 놓거나 설정 파일을 변경해 놓았을 때 이러한 사실을 알 수 있도록 분석하는 도구
    
- **Ping**
    
    : 인터넷으로 접속하려는 원격 호스트가 정상적으로 운영되고 있는지 확인하는 진단 목적으로 사용하는 명령어
    
- **Tcpdump**
    
    : 네트워크 인터페이스를 거치는 패킷의 내용을 출력해주는 프로그램
